(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"013f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-layout",{staticClass:"drawer-bg",attrs:{view:"hHh lpR fFf"}},[n("q-page-container",[n("div",{staticClass:"fixed-center"},[n("div",{staticClass:"text-center"},[n("img",{staticStyle:{"padding-bottom":"20px"},attrs:{width:"110px",src:a("c97f")}})]),n("q-card",{staticStyle:{width:"400px"}},[n("q-card-section",[n("div",{staticClass:"text-h6 text-center"},[e._v("Inicia Sesión")])]),n("q-card-section",{staticClass:"q-pt-none"},[n("q-form",{staticClass:"q-gutter-md",on:{submit:e.loginButtonPressed}},[n("q-input",{attrs:{filled:"",dense:"",type:"email",label:"Correo Electrónico","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Ingrese su email"}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("q-input",{attrs:{filled:"",dense:"",type:"password",label:"Contraseña","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Ingrese su contraseña"}]},model:{value:e.pass,callback:function(t){e.pass=t},expression:"pass"}}),n("div",{staticClass:"text-center q-ma-none"},[n("q-btn",{attrs:{"no-caps":"",size:"13px",flat:""},on:{click:e.resetPassword}},[e._v("¿Olvidaste tu contraseña?")])],1),n("div",[n("q-btn",{staticClass:"full-width",attrs:{push:"",color:"indigo-14",type:"submit",label:"iniciar sesión"}})],1)],1)],1)],1)],1),n("br")])],1)},s=[],i=a("967e"),r=a.n(i),o=(a("96cf"),a("fa84")),c=a.n(o),l=a("8aa5"),u=a.n(l),d={name:"Login",data:function(){return{response:1,uid:"jess",email:"",pass:""}},created:function(){var e=this;u.a.auth().onAuthStateChanged((function(t){t&&u.a.auth().currentUser.getIdTokenResult().then((function(t){console.log(t.claims),t.claims&&t.claims.admin?e.$router.push("/dashboard"):(u.a.auth().signOut(),e.$q.notify({message:"Usuario no registrado como admin",color:"red"}))}))}))},methods:{loginButtonPressed:function(){var e=this;return c()(r.a.mark((function t(){var a;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.auth().signInWithEmailAndPassword(e.email,e.pass);case 3:a=t.sent,a.user,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.$q.notify({message:"Acceso incorrecto",color:"red"});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onSubmit:function(){},resetPassword:function(){var e=this;this.$q.dialog({title:"Restablecer contraseña",message:"Ingresa tu correo electrónico",prompt:{model:"",isValid:function(e){return e.length>2},type:"email"},cancel:!0}).onOk((function(t){u.a.auth().sendPasswordResetEmail(t).then((function(){e.$q.notify({color:"green",message:"Se ha enviado un correo electrónico, revisa tu bandeja de entrada",icon:"email",position:"bottom-left"})})).catch((function(){e.$q.notify({message:"Ocurrio un error",color:"warning"})}))}))}}},f=d,p=(a("da41"),a("2877")),m=a("eebe"),h=a.n(m),g=a("4d5a"),v=a("09e3"),b=a("f09f"),w=a("a370"),q=a("0378"),x=a("27f9"),y=a("9c40"),C=Object(p["a"])(f,n,s,!1,null,null,null);t["default"]=C.exports;h()(C,"components",{QLayout:g["a"],QPageContainer:v["a"],QCard:b["a"],QCardSection:w["a"],QForm:q["a"],QInput:x["a"],QBtn:y["a"]})},"7c73":function(e,t,a){},c97f:function(e,t,a){e.exports=a.p+"img/logo_w.c171450f.png"},da41:function(e,t,a){"use strict";var n=a("7c73"),s=a.n(n);s.a}}]);